(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{3059:function(e,t,s){Promise.resolve().then(s.bind(s,9130))},4984:function(e,t,s){"use strict";var r=s(2265);t.Z=()=>{let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(null);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/user");if(!e.ok)throw Error("Network response was not ok");let s=await e.json();t(s)}catch(e){a(e.message),console.error("Error fetching user:",e)}})()},[]),{user:e,error:s}}},9130:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(7437),a=s(2265),i=s(6463),n=s(7480),l=s(9466),o=s(3267),c=s(1448),d=s.n(c);s(3034),s(7322),s(4885);var u=s(6648),h=s(7805);let x=e=>{let{slides:t}=e;return console.log(t),(0,r.jsx)("div",{children:(0,r.jsx)(o.tq,{spaceBetween:50,slidesPerView:1,navigation:!0,autoplay:{delay:3e3},modules:[h.tl,h.W_,h.pt],children:t.map(e=>(0,r.jsxs)(o.o5,{className:"relative w-full h-[500px]",children:[" ",(0,r.jsx)("a",{href:e.path,className:"relative block w-full h-full",children:(0,r.jsx)(u.default,{src:e,alt:"Slide Image",width:1920,height:1080,className:"object-cover w-full h-full"})})]},e._id))})})};x.propTypes={slides:d().arrayOf(d().shape({_id:d().string.isRequired,path:d().string.isRequired,image:d().string.isRequired})).isRequired};var m=s(5481),f=s(4984);let g=e=>{let{isOpen:t,onClose:s}=e,a=(0,i.useRouter)();return t?(0,r.jsx)("div",{className:"fixed inset-0 flex items-start justify-end p-4 z-50 mt-8",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-70 mt-4 mr-4",children:[(0,r.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Th\xeam v\xe0o giỏ h\xe0ng th\xe0nh c\xf4ng!"}),(0,r.jsx)("button",{onClick:()=>{a.push("/cart"),s()},className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-300 ease-in-out",children:"Xem giỏ h\xe0ng"}),(0,r.jsx)("button",{onClick:s,className:"ml-4 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 transition duration-300 ease-in-out",children:"Đ\xf3ng"})]})}):null};g.propTypes={isOpen:d().bool.isRequired,onClose:d().func.isRequired};var p=s(4780);function j(){let[e,t]=(0,a.useState)(null),{id:s}=(0,i.useParams)(),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(null),[h,j]=(0,a.useState)(!1),N=(0,i.useRouter)(),{toast:b}=(0,m.pm)(),{user:v}=(0,f.Z)(),T=async()=>{if(!v){N.push("/login");return}if(!d||!o){b({title:"Warning",description:"Vui l\xf2ng chọn m\xe0u v\xe0 k\xedch thước",status:"warning"});return}let{_id:t}=v,{_id:s}=e;try{if(!(await fetch("".concat(n.Z.NEXT_PUBLIC_API_ENDPOINT,"/cart/addCart"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t,productId:s,quantity:1,color:d,size:o})})).ok)throw Error("Failed to add product to cart.");j(!0)}catch(e){console.error("Error adding product to cart:",e),b({title:"Failed",description:"Th\xeam giỏ h\xe0ng thất bại",status:"success"})}};return(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat(n.Z.NEXT_PUBLIC_API_ENDPOINT,"/product/productsDetail"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:s})});if(!e.ok)throw Error("Failed to fetch product detail.");let r=await e.json();t(r),console.log(r)}catch(e){console.error("Error fetching data:",e)}};s&&e()},[s]),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(l.default,{}),(0,r.jsxs)("div",{className:"flex flex-row mt-20 p-5",children:[(0,r.jsx)("div",{className:"w-2/4",children:e&&(0,r.jsx)(x,{slides:e.image})}),(0,r.jsxs)("div",{className:"ml-8",children:[e&&(0,r.jsx)("div",{className:"flex flex-row items-center",children:(0,r.jsxs)("text",{className:"flex flex-row items-center",children:[(0,r.jsx)("p",{className:"text-xl font-bold",children:e.name}),(0,r.jsx)("p",{className:"text-xl mx-2",children:"-"}),(0,r.jsx)("p",{className:"text-xl font-bold",children:e.attribute})]})}),e&&(0,r.jsxs)("div",{className:"mb-4 mt-8",children:[(0,r.jsx)("p",{className:"text-lg font-bold",children:"Color"}),(0,r.jsx)("div",{className:"flex gap-4 mt-2",children:e.color.map(e=>(0,r.jsx)("div",{className:"w-8 h-8  ".concat(e,"  rounded-full border border-gray-300 ").concat(d===e?"ring-2 ring-red-500":""),title:e,onClick:()=>u(e)},e))})]}),e&&(0,r.jsxs)("div",{className:"mb-4 mt-8",children:[(0,r.jsx)("p",{className:"text-lg font-bold",children:"Size"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.size.map(e=>(0,r.jsx)("button",{className:"border border-gray-300 rounded-md py-2 px-4 mx-2 text-lg ".concat(o===e?"border-red-500 text-red-500":"border-gray-300 text-black"," hover:bg-gray-100 focus:outline-none"),onClick:()=>c(e),children:e},e))})]}),e&&(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("p",{className:"text-lg font-bold text-black",children:[e.price.toLocaleString("vi-VN"),"đ"]})}),e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("text",{children:"Hướng dẫn t\xednh size"}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)("button",{className:"px-20 border  border-red-500 text-red-500 py-2 rounded-md hover:bg-red-500 hover:text-white transition duration-300 ease-in-out",children:"T\xccM SẢN PHẨM TẠI SHOWROOM"})}),(0,r.jsxs)("div",{className:"mt-4 gap-5",children:[(0,r.jsx)("button",{className:"bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition duration-300 ease-in-out",children:"Mua ngay"}),(0,r.jsx)("button",{onClick:T,className:"ml-7 px-16 border  border-red-500 text-red-500 py-2 rounded-md hover:bg-red-500 hover:text-white transition duration-300 ease-in-out",children:"Th\xeam v\xe0o giỏ h\xe0ng"})]})]})]})]}),(0,r.jsx)(g,{isOpen:h,onClose:()=>j(!1)}),(0,r.jsx)(p.Z,{})]})}},4780:function(e,t,s){"use strict";var r=s(7437);s(2265),t.Z=()=>(0,r.jsx)("footer",{className:"bg-black text-white py-6 px-4 mt-20",children:(0,r.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"HỆ THỐNG CỬA H\xc0NG"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-base font-semibold mb-2",children:"KHU VỰC TPHCM"}),(0,r.jsxs)("ul",{className:"list-disc list-inside",children:[(0,r.jsxs)("li",{children:["414-416 Nguyễn Tr\xe3i, P.8, Q5."," ",(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Xem bản đồ"})]}),(0,r.jsxs)("li",{children:["96 Nguyễn Tr\xe3i, P3, Q5."," ",(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Xem bản đồ"})]}),(0,r.jsxs)("li",{children:["214 Nguyễn Tr\xe3i, P.Nguyễn Cư Trinh, Q1."," ",(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Xem bản đồ"})]}),(0,r.jsxs)("li",{children:["126 Hậu Giang, P.6, Q6."," ",(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Xem bản đồ"})]}),(0,r.jsxs)("li",{children:["124 Nguyễn Thị Thập, P.B\xecnh Thuận, Q7."," ",(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Xem bản đồ"})]})]})]}),(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-6",children:[(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"\xa9 2024 Shop Gi\xe0y MWC. All rights reserved."}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Privacy Policy"}),(0,r.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-300 ease-in-out",children:"Terms of Service"})]})]})]})})},9466:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var r=s(7437),a=s(2265),i=s(7138),n=s(6648),l=s(4008),o=()=>{let[e,t]=(0,a.useState)("");return(0,r.jsxs)("form",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Search...",className:"border border-gray-300 px-4 py-2 rounded-l-md focus:outline-none focus:border-blue-500"}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-4 rounded-r-md focus:outline-none hover:bg-blue-600",children:(0,r.jsx)(l.G4C,{})})]})},c=s(7480),d=()=>{let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),m=e=>{l(e)},f=()=>{l(null)};return(0,a.useEffect)(()=>{let e=()=>{u(window.scrollY>0)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(c.Z.NEXT_PUBLIC_API_ENDPOINT,"/cate/AllCategories"),{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.json();throw Error(t.error||"Failed to fetch categories.")}let s=await e.json();t(s),x("")}catch(e){console.error("Error fetching categories:",e),x(e.message||"Failed to fetch categories.")}})()},[]),console.log(h),(0,r.jsx)("header",{className:"fixed w-full top-0 z-50 ".concat(d?"bg-white shadow-lg":"bg-transparent"),children:(0,r.jsxs)("div",{className:"flex justify-between items-center px-4 py-2",children:[(0,r.jsx)("div",{className:"w-48 md:w-auto",children:(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)(n.default,{src:"https://mwc.com.vn/Assets/App/images/logo.png",alt:"Logo",width:122,height:54,className:"object-contain"})})}),(0,r.jsx)("ul",{className:"hidden md:flex flex-row space-x-5",children:e.map(e=>(0,r.jsxs)("li",{onMouseEnter:()=>m(e.cateID),onMouseLeave:f,children:[(0,r.jsx)(i.default,{href:"/collection/".concat(e._id),children:(0,r.jsx)("span",{className:"font-semibold cursor-pointer hover:text-blue-500",children:e.cateName})}),e.subCategories.length>0&&s===e.cateID&&(0,r.jsx)("ul",{className:"absolute z-10 p-4 bg-white shadow-lg",children:e.subCategories.map(e=>(0,r.jsx)("li",{className:"py-1",children:(0,r.jsx)(i.default,{href:"/collection/".concat(e._id),children:(0,r.jsx)("span",{className:"text-base text-black-700 hover:text-blue-500 font-semibold",children:e.subcateName})})},e._id))})]},e._id))}),(0,r.jsxs)("div",{className:"flex space-x-5 items-center",children:[(0,r.jsx)(o,{}),(0,r.jsx)(i.default,{href:"/profile",children:(0,r.jsx)(n.default,{src:"/images/user.svg",alt:"User Icon",width:24,height:24})}),(0,r.jsx)("div",{children:(0,r.jsx)(i.default,{href:"/cart",children:(0,r.jsx)(n.default,{src:"/images/shopping-cart.svg",alt:"Shopping Cart Icon",width:24,height:24})})})]})]})})}},5481:function(e,t,s){"use strict";s.d(t,{pm:function(){return h}});var r=s(2265);console.log({ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"});let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],c={toasts:[]};function d(e){c=l(c,e),o.forEach(e=>{e(c)})}function u(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,t]=r.useState(c);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},7480:function(e,t,s){"use strict";var r=s(9772);let a=r.z.object({NEXT_PUBLIC_API_ENDPOINT:r.z.string()}).safeParse({NEXT_PUBLIC_API_ENDPOINT:"https://tranngoctu05.id.vn"});if(!a.success)throw Error("C\xe1c gi\xe1 trị khai b\xe1o trong env kh\xf4ng đ\xfang");let i=a.data;t.Z=i},6463:function(e,t,s){"use strict";var r=s(1169);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[102,422,751,49,223,971,23,744],function(){return e(e.s=3059)}),_N_E=e.O()}]);